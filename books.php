<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta description="AI" content="AI">
    <meta description="ai4fs.com.ng" content="AI4FS">
    <meta description="ai4fs" content="ai4fs">
    <meta description="artificial Intelligence" content="artificial Intelligence for female in stem">
    <meta description="female in STEM" content="female in stem">
    <title>E-library | Files</title>
    <!-- Fav Icon -->
    <link rel="icon" href="assets/images/AI4FS-icon.png" sizes="37x37" type="image/x-icon">
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
        rel="stylesheet">
    <!-- Stylesheets -->
    <link href="assets/css/font-awesome-all.css" rel="stylesheet">
    <link href="assets/css/flaticon.css" rel="stylesheet">
    <link href="assets/css/owl.css" rel="stylesheet">
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <link href="assets/css/jquery.fancybox.min.css" rel="stylesheet">
    <link href="assets/css/animate.css" rel="stylesheet">
    <link href="assets/css/color.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="assets/css/responsive.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,100&display=swap"
        rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/file.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<!-- page wrapper -->

<body>
    <div class="boxed_wrapper">
        <!-- main header -->
        <!-- main header -->

        <header class="main-header header-style-two">
            <!-- header-lower -->
            <div class="header-lower">
                <div class="auto-container">
                    <div class="outer-box clearfix">
                        <div class="logo-box pull-left">
                            <figure class="logo"><a href="index.php"><img src="assets/images/summit-logo.png" width="80"
                                        alt=""></a>
                            </figure>
                        </div>
                        <div class="menu-area pull-right clearfix">
                            <nav class="main-menu navbar-expand-md navbar-light">
                                <div class="collapse navbar-collapse show clearfix" id="navbarSupportedContent">
                                    <ul class="navigation clearfix">
                                        <li class="current"><a href="index.php">Home</a></li>
                                    </ul>
                                </div>
                            </nav>
                            <!--Mobile Navigation Toggler-->
                            <div class="mobile-nav-toggler">
                                <i class="icon-bar"></i>
                                <i class="icon-bar"></i>
                                <i class="icon-bar"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--sticky Header-->
            <div class="sticky-header">
                <div class="auto-container">
                    <div class="outer-box clearfix">
                        <figure class="sticky-logo pull-left">
                            <a href="Index.php"><img src="assets/images/AI4FS-white-logo.png" alt=""></a>
                        </figure>
                        <div class="menu-area pull-right clearfix">
                            <nav class="main-menu clearfix" style="padding-right:80px;">

                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- main-header end -->

        <!-- Mobile Menu  -->

        <div class="mobile-menu">
            <div class="menu-backdrop"></div>
            <div class="close-btn"><i class="fas fa-times"></i></div>
            <nav class="menu-box" style="background:#2a9735;">
                <div class="nav-logo"><a href="index.php"><img src="assets/images/AI4FS-white-logo.png" alt=""
                            title=""></a>
                </div>
                <div class="menu-outer">
                    <!--Here Menu Will Come Automatically Via Javascript / Same Menu as in Header-->
                </div>
                <div class="contact-info">
                    <h4>Contact Info</h4>
                    <ul>
                        <li></li>
                        <li><a href="tel:+234"></a></li>
                        <li><a href="mailto:ai4fs@summituniversity.edu.ng"></a></li>
                    </ul>
                </div>
                <div class="social-links">
                    <ul class="clearfix">
                        <li><a href="index.php"><span class="fab fa-twitter"></span></a></li>
                        <li><a href="index.php"><span class="fab fa-facebook-square"></span></a></li>
                        <li><a href="index.php"><span class="fab fa-instagram"></span></a></li>
                        <li><a href="index.php"><span class="fab fa-youtube"></span></a></li>
                    </ul>
                </div>
            </nav>
        </div>

        <!-- End Mobile Menu -->
        <!-- main-header end -->

        <!-- Mobile Menu  -->
        <div class="mobile-menu">
            <div class="menu-backdrop"></div>
            <div class="close-btn"><i class="fas fa-times"></i></div>
            <nav class="menu-box" style="background:#2a9735;">
                <div class="nav-logo">
                    <a href="index.php">
                        <img src="assets/images/logo.jpeg" alt="" title="">
                    </a>
                </div>
                <div class="menu-outer">
                </div>
                <div class="contact-info">
                    <h4>Contact Info</h4>
                    <ul>
                        <li><a href="tel:+234"></a></li>
                        <li><a href="mailto:info@example.com"></a></li>
                    </ul>
                </div>
                <div class="social-links">
                    <ul class="clearfix">
                        <li><a href="index.php"><span class="fab fa-twitter"></span></a></li>
                        <li><a href="index.php"><span class="fab fa-facebook-square"></span></a></li>
                        <li><a href="index.php"><span class="fab fa-instagram"></span></a></li>
                        <li><a href="index.php"><span class="fab fa-youtube"></span></a></li>
                    </ul>
                </div>
            </nav>
        </div>
        <!-- End Mobile Menu -->

        <!-- banner-section -->
        <section class="banner-style-two mt-5 mb-5" id="home">
            <div class="container">
                <h1><?php
                    $fileParam = $_GET['file'];
                    if($_GET['file'] == 'repository/Journals'){
                        echo 'Available Journals';
                    }else{
                        $fileParts = explode('/', $fileParam);
                        $desiredValue = $fileParts[2];
                        echo 'Available E-Books for '.$desiredValue.' Department';
                    }
                ?></h1>

                <div class="row">
                    <div class="col-sm-12 tab-content no-bg no-border">
                        <div class="tab-pane active documents documents-panel">

                            <?php

                            $folder =  $_GET['file'];
                            $files = scandir($folder);

                            function formatBytes($bytes)
                            {
                                $units = array("B", "KB", "MB", "GB", "TB");
                                $bytes = max($bytes, 0);
                                $pow = floor(($bytes ? log($bytes) : 0) / log(1024));
                                $pow = min($pow, count($units) - 1);
                                $bytes /= pow(1024, $pow);
                                return round($bytes, 2) . " " . $units[$pow];
                            }

                            $count = 0;

                            foreach ($files as $file) {
                                if ($file != "." && $file != ".." ) {
                                    $filePath = $folder . "/" . $file;
                                    $fileType = explode(".", $file);
                                    
                                    $fileSize = filesize($filePath);
                                    $formattedSize = formatBytes($fileSize);

                                    $imageExtensions = array("jpg", "jpeg", "png", "gif", "bmp", "tiff", "webp", "ico");

                                    if ($fileType[1] == 'xlsx' or $fileType[1] == 'xls') {
                                        $icon = 'fa fa-file-excel-o text-success';
                                    } elseif ($fileType[1] == 'pdf') {
                                        $icon = 'fa fa-file-pdf-o text-danger';
                                    } elseif ($fileType[1] == 'docx' or $fileType[1] == 'doc') {
                                        $icon = 'fa fa-file-word-o text-info';
                                    } elseif ($fileType[1] == 'ppt') {
                                        $icon = 'fa fa-file-powerpoint-o text-info';
                                    } elseif ($fileType[1] == 'mp4') {
                                        $icon = 'fa fa-file-video-o text-info';
                                    } elseif (in_array(strtolower($fileType[1]), $imageExtensions)) {
                                        $icon = 'fa fa-file-image-o text-info';
                                    } else {
                                        $icon = 'fa fa-file text-secondary';
                                    }

                                    $count++;

                                    echo "<div class='document success'>
                                        <div class='document-body'>
                                            <i class='$icon'></i>
                                        </div>
                                        <div class='document-footer'>
                                            <span class='document-name'> $file </span>
                                            <span class='document-description'> $fileSize $formattedSize </span>
                                        </div><br>
                                        <center>
                                            <a href='$filePath' target='_blank' class='btn btn-sm btn-success'>Open the document </a>
                                        </center><br>
                                    </div>";

                                    // echo '<div class="modal fade bd-example-modal-lg' . $count . '" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                                    //     <div class="modal-dialog modal-lg">
                                    //         <div class="modal-content">
                                    //             <div class="ratio ratio-16x9">
                                    //                 <h2>' . $file . '</h2><hr>
                                    //                 <iframe src="' . $filePath . '" width="800" height="600"></iframe>
                                    //             </div>
                                    //         </div>
                                    //     </div>
                                    // </div>';
                                }
                            }
                            ?>



                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- banner-section end -->

        <!-- main-footer -->
        <footer class="main-footer footer-style-two"></footer>
        <div class="footer-bottom">
            <!-- scroll to top -->
            <div class="auto-container">
                <div class="bottom-inner clearfix">
                    <div class="copyright pull-left">
                        <center>
                            <p>Copyright &copy; <a href="index.php">Summit University E-Library </a>, All Rights
                                Reserved.</p>
                        </center>
                    </div>
                </div>
            </div>
            </footer>
            <!-- main-footer end -->
        </div>
        <!-- jequery plugins -->
        <script src="assets/js/jquery.js"></script>
        <script src="assets/js/popper.min.js"></script>
        <script src="assets/js/bootstrap.min.js"></script>
        <script src="assets/js/owl.js"></script>
        <script src="assets/js/wow.js"></script>
        <script src="assets/js/validation.js"></script>
        <script src="assets/js/jquery.fancybox.js"></script>
        <script src="assets/js/appear.js"></script>
        <script src="assets/js/scrollbar.js"></script>
        <script src="assets/js/tilt.jquery.js"></script>
        <script src="assets/js/isotope.js"></script>
        <script src="assets/js/bxslider.js"></script>
        <!-- main-js -->
        <script src="assets/js/script.js"></script>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const faqQuestions = document.querySelectorAll('.faq-question');

                faqQuestions.forEach(function (question) {
                    question.addEventListener('click', function () {
                        const answer = this.nextElementSibling;

                        if (answer.style.display === 'block') {
                            answer.style.display = 'none';
                            this.classList.remove('open');
                        } else {
                            answer.style.display = 'block';
                            this.classList.add('open');
                        }
                    });
                });
            });
        </script>
</body>

</html>